Testing all possible values for DEST and COMP
M=0
D=1
DM=-1
A=D
AM=A
AD=M
ADM=!D
M=!A
M=!M
M=-D
M=-A
M=-M
M=D+1
M=A+1
M=M+1
M=D-1
M=A-1
M=M-1
M=D+A
M=D+M
M=D-A
M=D-M
M=A-D
M=M-D
M=D&A
M=D&M
M=D|A
M=D|M

Test  |       Expected       |        Actual        |
M=0   | 111 0 101010 001 000 | 111 0 101010 001 000 | OK
D=1   | 111 0 111111 010 000 | 111 0 111111 010 000 | OK
DM=-1 | 111 0 111010 011 000 | 111 0 111010 011 000 | OK
A=D   | 111 0 001100 100 000 | 111 0 001100 100 000 | OK
AM=A  | 111 0 110000 101 000 | 111 0 110000 101 000 | OK
AD=M  | 111 1 110000 110 000 | 111 1 110000 110 000 | OK
ADM=!D| 111 0 001101 111 000 | 111 0 001101 111 000 | OK
M=!A  | 111 0 110001 001 000 | 111 0 110001 001 000 | OK
M=!M  | 111 1 110001 001 000 | 111 1 110001 001 000 | OK
M=-D  | 111 0 001111 001 000 | 111 0 001111 001 000 | OK
M=-A  | 111 0 110011 001 000 | 111 0 110011 001 000 | OK
M=-M  | 111 1 110011 001 000 | 111 1 110011 001 000 | OK
M=D+1 | 111 0 011111 001 000 | 111 0 011111 001 000 | OK
M=A+1 | 111 0 110111 001 000 | 111 0 110111 001 000 | OK
M=M+1 | 111 1 110111 001 000 | 111 1 110111 001 000 | OK
M=D-1 | 111 0 001110 001 000 | 111 0 001110 001 000 | OK
M=A-1 | 111 0 110010 001 000 | 111 0 110010 001 000 | OK
M=M-1 | 111 1 110010 001 000 | 111 1 110010 001 000 | OK
M=D+A | 111 0 000010 001 000 | 111 0 000010 001 000 | OK
M=D+M | 111 1 000010 001 000 | 111 1 000010 001 000 | OK
M=D-A | 111 0 010011 001 000 | 111 0 010011 001 000 | OK
M=D-M | 111 1 010011 001 000 | 111 1 010011 001 000 | OK
M=A-D | 111 0 000111 001 000 | 111 0 000111 001 000 | OK
M=M-D | 111 1 000111 001 000 | 111 1 000111 001 000 | OK
M=D&A | 111 0 000000 001 000 | 111 0 000000 001 000 | OK
M=D&M | 111 1 000000 001 000 | 111 1 000000 001 000 | OK
M=D|A | 111 0 010101 001 000 | 111 0 010101 001 000 | OK
M=D|M | 111 1 010101 001 000 | 111 1 010101 001 000 | OK